#compdef fetch

# https://github.com/zsh-users/zsh-completions/blob/master/zsh-completions-howto.org
# if the repos are missing in completion, rm -f $XDG_CACHE_HOME/zsh/zcompdump

zstyle ':completion:*:*:fetch:*:*' \
  matcher 'm:{[:lower:]}={[:upper:]} l:|=* r:|=*'

local -a repos

while read -r name; do
  repos=($repos[@] "$name")
done < $XDG_CACHE_HOME/fetch/repos

_alternative "repos:repos:(($repos))"

# https://github.com/zdharma-continuum/fast-syntax-highlighting/
FAST_HIGHLIGHT+=(chroma-fetch â†’chroma/-subcommand.ch)

